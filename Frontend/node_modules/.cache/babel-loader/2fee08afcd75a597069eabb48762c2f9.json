{"ast":null,"code":"import http from \"./httpService\";\nimport jwtDecode from \"jwt-decode\";\nimport { apiUrl } from \"../config\";\nconst apiEndPoint = `${apiUrl}/auth`;\nconst tokenKey = \"token\";\nhttp.setJwt(getJwt());\nexport async function postLogin(username, password) {\n  console.log(username);\n  const response = await http.post(`${apiEndPoint}/login`, {\n    username,\n    password\n  });\n  localStorage.setItem(tokenKey, response.headers[\"x-auth-token\"]);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport function getJwt() {\n  try {\n    return localStorage.getItem(tokenKey);\n  } catch (error) {\n    return null;\n  }\n}","map":{"version":3,"sources":["/home/adera/Desktop/AppEngine/Frontend/src/services/authService.js"],"names":["http","jwtDecode","apiUrl","apiEndPoint","tokenKey","setJwt","getJwt","postLogin","username","password","console","log","response","post","localStorage","setItem","headers","logout","removeItem","getCurrentUser","jwt","getItem","ex","error"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,MAAT,QAAuB,WAAvB;AAEA,MAAMC,WAAW,GAAI,GAAED,MAAO,OAA9B;AACA,MAAME,QAAQ,GAAG,OAAjB;AAEAJ,IAAI,CAACK,MAAL,CAAYC,MAAM,EAAlB;AAEA,OAAO,eAAeC,SAAf,CAAyBC,QAAzB,EAAmCC,QAAnC,EAA6C;AACnDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,QAAMI,QAAQ,GAAG,MAAMZ,IAAI,CAACa,IAAL,CAAW,GAAEV,WAAY,QAAzB,EAAkC;AACxDK,IAAAA,QADwD;AAExDC,IAAAA;AAFwD,GAAlC,CAAvB;AAIAK,EAAAA,YAAY,CAACC,OAAb,CAAqBX,QAArB,EAA+BQ,QAAQ,CAACI,OAAT,CAAiB,cAAjB,CAA/B;AACA;AAED,OAAO,SAASC,MAAT,GAAkB;AACxBH,EAAAA,YAAY,CAACI,UAAb,CAAwBd,QAAxB;AACA;AAED,OAAO,SAASe,cAAT,GAA0B;AAChC,MAAI;AACH,UAAMC,GAAG,GAAGN,YAAY,CAACO,OAAb,CAAqBjB,QAArB,CAAZ;AACA,WAAOH,SAAS,CAACmB,GAAD,CAAhB;AACA,GAHD,CAGE,OAAOE,EAAP,EAAW;AACZ,WAAO,IAAP;AACA;AACD;AAED,OAAO,SAAShB,MAAT,GAAkB;AACxB,MAAI;AACH,WAAOQ,YAAY,CAACO,OAAb,CAAqBjB,QAArB,CAAP;AACA,GAFD,CAEE,OAAOmB,KAAP,EAAc;AACf,WAAO,IAAP;AACA;AACD","sourcesContent":["import http from \"./httpService\";\nimport jwtDecode from \"jwt-decode\";\n\nimport { apiUrl } from \"../config\";\n\nconst apiEndPoint = `${apiUrl}/auth`;\nconst tokenKey = \"token\";\n\nhttp.setJwt(getJwt());\n\nexport async function postLogin(username, password) {\n\tconsole.log(username);\n\tconst response = await http.post(`${apiEndPoint}/login`, {\n\t\tusername,\n\t\tpassword\n\t});\n\tlocalStorage.setItem(tokenKey, response.headers[\"x-auth-token\"]);\n}\n\nexport function logout() {\n\tlocalStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n\ttry {\n\t\tconst jwt = localStorage.getItem(tokenKey);\n\t\treturn jwtDecode(jwt);\n\t} catch (ex) {\n\t\treturn null;\n\t}\n}\n\nexport function getJwt() {\n\ttry {\n\t\treturn localStorage.getItem(tokenKey);\n\t} catch (error) {\n\t\treturn null;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}